function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.TypeCommander=t()}("undefined"!=typeof self?self:this,function(){var l=function(e,n){e.setAttribute("style",Object.keys(n).reduce(function(e,t){return e+=t+":"+n[t]+";"},""))},y=function(e,t){return t?setTimeout(e,t):e()},m=function(e){return JSON.parse(JSON.stringify(e))};return function(e,t){var n,o,i=document.querySelector(e),r=document.createElement("span"),s=document.createElement("span"),u=document.createElement("span"),p={text:t=t||i.innerText,cPosition:0,deleteSpeed:100,addSpeed:100,cursorBlinkingSpeed:400},c=[],d=function(e){r.innerHTML=e.replace(/ /g,"&nbsp;"),s.innerHTML=""===e?"&nbsp;":e.replace(/ /g,"&nbsp;"),p.text=e},f=function(e){e=void 0!==e?e:p.text.length;var t=p.text.substr(0,e).replace(/ /g,"&nbsp;");s.innerHTML=""===t?"&nbsp":t,p.cPosition=e,y(function(){return l(u,function(){return{top:0,left:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)+"px",position:"absolute",display:"block",width:"3px",height:(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)+"px",background:"#000",opacity:1,transition:"opacity 200ms ease-out","-webkit-transition":"opacity 200ms ease-out"}}(""===t?0:s.offsetWidth,s.offsetHeight))},1)},a=function e(t){switch(t.type){case"moveTo":f(t.position),y(function(){return p.go()},1);break;case"delete":if("all"===t.numChars&&(t.numChars=p.text.length),0===t.numChars||void 0===t.numChars||0===p.cPosition){p.go();break}r=function(){0<t.numChars?e({type:"delete",numChars:t.numChars-1,speed:t.speed}):p.go()},s=t.speed,y(function(){d(p.text.slice(0,p.cPosition-1)+p.text.slice(p.cPosition)),f(p.cPosition-1),r()},s||p.deleteSpeed);break;case"add":if(0===t.str.length){p.go();break}n=t.str.substr(0,1),o=function(){e({type:"add",str:t.str.substr(1),speed:t.speed})},i=t.speed,y(function(){d(p.text.substr(0,p.cPosition)+n+p.text.substr(p.cPosition)),f(p.cPosition+1),o()},i||p.addSpeed);break;case"delay":y(function(){return p.go()},t.time)}var n,o,i,r,s};if(!i)throw new Error("Can not find an element behind "+e+" selector");return i.innerHTML="",i.appendChild(r),i.appendChild(s),i.appendChild(u),l(i,{position:"relative"}),l(s,{position:"absolute",top:0,left:0,opacity:0,"font-family":"inherit"}),l(r,{"font-family":"inherit"}),setInterval(function(){u.style.opacity="1"===u.style.opacity?0:1,u.style.height=s.offsetHeight},p.cursorBlinkingSpeed),setTimeout(function(){d(p.text),f(p.text.length)},1),p.delay=function(e){return c.push({type:"delay",time:e}),p},p.add=function(e,t){return c.push({type:"add",str:e,speed:t}),p},p.moveTo=function(e){return c.push({type:"moveTo",position:e}),p},p.del=function(e,t){return c.push({type:"delete",numChars:e,speed:t}),p},p.go=function(e){e&&(o=e),0===c.length?(o&&o(),n&&(c=m(n),d(t),f(),p.go())):a(c.shift())},p.loop=function(){return n=m(c),p},p}});