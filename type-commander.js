function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.TypeCommander=t()}("undefined"!=typeof self?self:this,function(){var y=function(e,n){e.setAttribute("style",Object.keys(n).reduce(function(e,t){return e+=t+":"+n[t]+";"},""))},m=function(e,t){return t?setTimeout(e,t):e()},h=function(e){return JSON.parse(JSON.stringify(e))};return function(e,t,n){var o,i,r=document.querySelector(e),s=document.createElement("span"),u=document.createElement("span"),p=document.createElement("span"),c={text:t=t||r.innerText,cPosition:0,deleteSpeed:100,addSpeed:100,cursorBlinkingSpeed:400},d=[];s.setAttribute("class","type-commander-text"),p.setAttribute("class","type-commander-cursor");var a=function(e){s.innerHTML=e.replace(/ /g,"&nbsp;"),u.innerHTML=""===e?"&nbsp;":e.replace(/ /g,"&nbsp;"),c.text=e},f=function(e){e=void 0!==e?e:c.text.length;var t=c.text.substr(0,e).replace(/ /g,"&nbsp;");u.innerHTML=""===t?"&nbsp":t,c.cPosition=e,y(p,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return{top:0,left:e+"px",position:"absolute",display:"block",width:n&&n.width?n.width+"px":"3px",height:n&&n.height?n.height+"px":t+"px",background:"#000",opacity:1,transition:"opacity 200ms ease-out","-webkit-transition":"opacity 200ms ease-out"}}(""===t?0:u.offsetWidth,u.offsetHeight))},l=function e(t){switch(t.type){case"moveTo":f(t.position),m(function(){return c.go()},1);break;case"delete":if("all"===t.numChars&&(t.numChars=c.text.length),0===t.numChars||void 0===t.numChars||0===c.cPosition){c.go();break}r=function(){0<t.numChars?e({type:"delete",numChars:t.numChars-1,speed:t.speed}):c.go()},s=t.speed,m(function(){a(c.text.slice(0,c.cPosition-1)+c.text.slice(c.cPosition)),f(c.cPosition-1),r()},s||c.deleteSpeed);break;case"add":if(0===t.str.length){c.go();break}n=t.str.substr(0,1),o=function(){e({type:"add",str:t.str.substr(1),speed:t.speed})},i=t.speed,m(function(){a(c.text.substr(0,c.cPosition)+n+c.text.substr(c.cPosition)),f(c.cPosition+1),o()},i||c.addSpeed);break;case"delay":m(function(){return c.go()},t.time)}var n,o,i,r,s};if(!r)throw new Error("Can not find an element behind "+e+" selector");return r.innerHTML="",r.appendChild(s),r.appendChild(u),r.appendChild(p),y(r,{position:"relative"}),y(u,{position:"absolute",top:0,left:0,opacity:0,"font-family":"inherit"}),y(s,{"font-family":"inherit"}),setInterval(function(){p.style.opacity="1"===p.style.opacity?0:1,p.style.height=u.offsetHeight},c.cursorBlinkingSpeed),setTimeout(function(){a(c.text),f(c.text.length)},1),c.delay=function(e){return d.push({type:"delay",time:e}),c},c.add=function(e,t){return d.push({type:"add",str:e,speed:t}),c},c.moveTo=function(e){return d.push({type:"moveTo",position:e}),c},c.del=function(e,t){return d.push({type:"delete",numChars:e,speed:t}),c},c.go=function(e){e&&(i=e),0===d.length?(i&&i(),o&&(d=h(o),a(t),f(),c.go())):l(d.shift())},c.loop=function(){return o=h(d),c},c}});